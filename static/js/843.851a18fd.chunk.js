"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[843],{1687:function(e,t,r){r.d(t,{Bt:function(){return p},Mc:function(){return h},d5:function(){return l},vw:function(){return u},z1:function(){return o}});var n=r(5861),a=r(7757),i=r.n(a),c=r(5294);c.Z.defaults.baseURL="https://api.themoviedb.org/3";var s={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1YTY1NDU5YjQyMDIyZWIxNmY1Y2ZhZThmYmEwNTZjNSIsInN1YiI6IjY1NTUzZGE5NjdiNjEzNDVjZjA1MWZlMCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ._8RTzmcO78xExbWd32QNw6iyXkN3hqQndvomjFUjc2k"}},u=function(){var e=(0,n.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams({language:"en-US",time_window:"week"}),e.next=3,c.Z.get("/trending/movie/week?".concat(t),s);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,n.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({include_adult:!1,language:"en-US",page:1,query:t}),e.next=3,c.Z.get("/search/movie?".concat(r),s);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,n.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({language:"en-US",movie_id:t}),e.next=3,c.Z.get("/movie/".concat(t,"?").concat(r),s);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({language:"en-US",movie_id:t}),e.next=3,c.Z.get("/movie/".concat(t,"/credits?").concat(r),s);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({language:"en-US",movie_id:t,page:1}),e.next=3,c.Z.get("/movie/".concat(t,"/reviews?").concat(r),s);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},6950:function(e,t,r){r.d(t,{e:function(){return d}});var n,a,i=r(7689),c=r(1087),s=r(184),u=function(e){var t=e.movie,r=i.TH,n=t.release.data.split("-");return(0,s.jsxs)(c.rU,{to:"/movies/".concat(t.id),state:{from:r},children:[(0,s.jsx)("img",{width:320,src:t.poster_path?"https://image.tmdb.org/t/p/w500/".concat(t.poster_path):"https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700",alt:t.title}),(0,s.jsx)("div",{className:"",children:(0,s.jsxs)("h3",{children:[t.title," (",n[0],")"]})})]})},o=r(168),h=r(5773),l=h.ZP.ul(n||(n=(0,o.Z)([""]))),p=h.ZP.li(a||(a=(0,o.Z)([""]))),d=function(e){var t=e.items;return(0,s.jsx)(l,{children:t.map((function(e){return(0,s.jsx)(p,{children:(0,s.jsx)(u,{movie:e})},e.id)}))})}},9843:function(e,t,r){r.r(t),r.d(t,{default:function(){return S}});var n,a,i=r(5861),c=r(9439),s=r(7757),u=r.n(s),o=r(2791),h=r(1087),l=r(6950),p=r(5705),d=r(6727),m=r(168),f=r(5773),v=(0,f.ZP)(p.Bc)(n||(n=(0,m.Z)([""]))),x=f.ZP.div(a||(a=(0,m.Z)([""]))),g=r(184),Z=d.Ry().shape({search:d.Z_().required("This field is empty. Write something")}),j=function(e){var t=e.onSubmit,r=e.handleChange;return(0,g.jsx)(x,{children:(0,g.jsx)(p.J9,{initialValues:{search:""},validationSchema:Z,onSubmit:function(e){t(e)},onChange:function(e){r(e)},children:(0,g.jsx)(p.l0,{children:(0,g.jsxs)("div",{className:"search-item",children:[(0,g.jsx)("label",{htmlFor:"search",className:"visually-hidden"}),(0,g.jsx)(p.gN,{id:"search",name:"search",autoComplete:"off",className:"input",type:"text",placeholder:"Search movie"}),(0,g.jsx)(v,{name:"search",component:"div"}),(0,g.jsx)("button",{type:"submit",className:"button",children:"Search"})]})})})})},w=r(1687),b=r(5218),y=r(1845);function S(){var e=(0,o.useState)([]),t=(0,c.Z)(e,2),r=t[0],n=t[1],a=(0,o.useState)(!1),s=(0,c.Z)(a,2),p=s[0],d=s[1],m=(0,o.useState)(!1),f=(0,c.Z)(m,2),v=f[0],x=f[1],Z=(0,o.useState)(""),S=(0,c.Z)(Z,2)[1],N=(0,h.lr)(),k=(0,c.Z)(N,2),U=k[0],I=k[1],_=U.get("title");(0,o.useEffect)((function(){function e(){return(e=(0,i.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),x(!1),e.next=5,(0,w.z1)(_);case 5:t=e.sent,n(t.results),t.results<1&&b.ZP.error("There are no entries. Try again"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),x(!0);case 13:return e.prev=13,d(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})))).apply(this,arguments)}_&&""!==_&&function(){e.apply(this,arguments)}()}),[_]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h1",{children:"All movies"}),(0,g.jsx)(j,{onSubmit:function(e){_!==e.search.trim()&&n([]),S(e.search.trim()),I({title:e.search.trim()})},handleChange:function(e){I({title:e.target.value.trim()})}}),p&&(0,g.jsx)(y.FF,{height:"100",width:"100",color:"#4fa94d",ariaLabel:"rotating-square-loading",strokeWidth:"4",wrapperStyle:{},wrapperClass:"",visible:!0}),v&&(0,g.jsx)("p",{children:"Error! Please reload this page!"}),r.length>0&&(0,g.jsx)(l.e,{items:r}),(0,g.jsx)(b.x7,{position:"top-right"})]})}}}]);
//# sourceMappingURL=843.851a18fd.chunk.js.map